<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="imgenius RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="imgenius Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="imgenius" href="/opensearch.xml">
<script src="/js/index.js"></script><title data-react-helmet="true">æ‰©å±•ä¾‹å­ | imgenius</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://idongmobility.github.io//docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/æ‰©å±•ä¾‹å­"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="æ‰©å±•ä¾‹å­ | imgenius"><meta data-react-helmet="true" name="description" content="ç»ˆç«¯è„šæœ¬"><meta data-react-helmet="true" property="og:description" content="ç»ˆç«¯è„šæœ¬"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://idongmobility.github.io//docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/æ‰©å±•ä¾‹å­"><link data-react-helmet="true" rel="alternate" href="https://idongmobility.github.io//docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/æ‰©å±•ä¾‹å­" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://idongmobility.github.io//docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/æ‰©å±•ä¾‹å­" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f086c654.css">
<link rel="preload" href="/assets/js/runtime~main.9d701c52.js" as="script">
<link rel="preload" href="/assets/js/main.804f5bbe.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_RReh"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="imgenius Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="imgenius Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">imgenius</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link" href="/docs/ç®€ä»‹/æ¦‚è¿°">æ–‡æ¡£</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/ç®€ä»‹/æ¦‚è¿°">å¼€å‘ä¸­ï¼ˆå¾…å‘å¸ƒï¼‰</a></li><li><a class="dropdown__link" href="/docs/ç®€ä»‹/æ¦‚è¿°">4.0.4ï¼ˆæœ€æ–°ç‰ˆï¼‰</a></li><li><a class="dropdown__link" href="/docs/4.0.3/ç®€ä»‹/æ¦‚è¿°">4.0.3</a></li><li><a class="dropdown__link" href="/docs/4.0.2/ç®€ä»‹/æ¦‚è¿°">4.0.2</a></li><li><a class="dropdown__link" href="/docs/4.0.0/ç®€ä»‹/æ¦‚è¿°">4.0.0</a></li><li><a class="dropdown__link" href="/docs/3.8.2/ç®€ä»‹/æ¦‚è¿°">3.8.2</a></li></ul></div><a class="navbar__item navbar__link" href="/blog">åšå®¢</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/å‘å¸ƒè¯´æ˜/å‘å¸ƒè®°å½•">å‘å¸ƒè®°å½•</a><a href="http://www.idongmobility.com/index.php/zh/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>è‰¾åŠ¨å®˜ç½‘<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/iDongMobility/imgenius-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_NKBi"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0 sidebarWithHideableNavbar_VlPv"><a tabindex="-1" class="sidebarLogo_hmkv" href="/"><img src="/img/logo.png" alt="imgenius Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.png" alt="imgenius Logo" class="themedImage_TMUO themedImage--dark_uzRr"><b>imgenius</b></a><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ç®€ä»‹</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">å®‰è£…</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">å¿«é€Ÿå…¥é—¨</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ç³»ç»Ÿé…ç½®æ‰‹å†Œ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ç³»ç»Ÿç»´æŠ¤æŒ‡å—</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">ç³»ç»Ÿæ‰©å±•æŒ‡å—</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/ä¸»é¡µå®šåˆ¶æ‰©å±•å¼€å‘">ä¸»é¡µå®šåˆ¶æ‰©å±•å¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/ä¸»é¡µå®šåˆ¶æ‰©å±•ä¾‹å­">ä¸»é¡µå®šåˆ¶æ‰©å±•ä¾‹å­</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/æµç¨‹åå‡½æ•°æ‰©å±•å¼€å‘">æµç¨‹åå‡½æ•°æ‰©å±•å¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/æŠ¥è¡¨æ‰©å±•å¼€å‘">æŠ¥è¡¨æ‰©å±•å¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/åˆ†ææ‰©å±•å¼€å‘">åˆ†ææ‰©å±•å¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/åˆ†ææ‰©å±•å¼€å‘ç¤ºä¾‹">åˆ†ææ‰©å±•å¼€å‘ç¤ºä¾‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/ç»ˆç«¯é¡µé¢æ‰©å±•å¼€å‘">ç»ˆç«¯é¡µé¢æ‰©å±•å¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/è‡ªå®šä¹‰æœåŠ¡æ‰©å±•å¼€å‘">è‡ªå®šä¹‰æœåŠ¡æ‰©å±•å¼€å‘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/æ‰©å±•ä¾‹å­">æ‰©å±•ä¾‹å­</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/ä¸è‡ªæ§ç³»ç»Ÿé›†æˆä¾‹å­">ä¸è‡ªæ§ç³»ç»Ÿé›†æˆä¾‹å­</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/ç¤¾äº¤å¹³å°é›†æˆç¤ºä¾‹-ä½œä¸šä»»åŠ¡é’‰é’‰æ¨é€">ç¤¾äº¤å¹³å°é›†æˆç¤ºä¾‹-ä½œä¸šä»»åŠ¡é’‰é’‰æ¨é€</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/ç¤¾äº¤å¹³å°é›†æˆç¤ºä¾‹-iDongåº“å­˜ä¸U8ç”¨å‹å¯¹æ¥">ç¤¾äº¤å¹³å°é›†æˆç¤ºä¾‹-iDongåº“å­˜ä¸U8ç”¨å‹å¯¹æ¥</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/èµ„äº§å±æ€§ç»ˆç«¯è‡ªå®šä¹‰æŸ¥è¯¢">èµ„äº§å±æ€§ç»ˆç«¯è‡ªå®šä¹‰æŸ¥è¯¢</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/nodejsç¨‹åºé…ç½®æˆwindowsæœåŠ¡">nodejsç¨‹åºé…ç½®æˆwindowsæœåŠ¡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/RabbitMQå¼€å‘è¯´æ˜">RabbitMQå¼€å‘è¯´æ˜</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">æœ€ä½³å®è·µ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">å‘å¸ƒè¯´æ˜</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">æ•…éšœæ’æŸ¥æŒ‡å—</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">FAQ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">å†…ç½®å‡½æ•°</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">é™„å½•</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->imgenius<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/ç³»ç»Ÿæ‰©å±•æŒ‡å—/æ‰©å±•ä¾‹å­">latest version</a></b> (<!-- -->4.0.4<!-- -->).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->Next</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>æ‰©å±•ä¾‹å­</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ç»ˆç«¯è„šæœ¬">ç»ˆç«¯è„šæœ¬<a aria-hidden="true" class="hash-link" href="#ç»ˆç«¯è„šæœ¬" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ‰“å¼€ä½œä¸šç»„ç›´æ¥è·³åˆ°æŒ‡å®šä½œä¸š">æ‰“å¼€ä½œä¸šç»„ç›´æ¥è·³åˆ°æŒ‡å®šä½œä¸š<a aria-hidden="true" class="hash-link" href="#æ‰“å¼€ä½œä¸šç»„ç›´æ¥è·³åˆ°æŒ‡å®šä½œä¸š" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°" title="Direct link to heading">â€‹</a></h4><p>ä½œä¸šç»„ä¸­æ ¹æ®æŒ‡å®šçš„ä½œä¸šåè·³è½¬åˆ°è¯¥ä½œä¸š</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç ">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç " title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºé…ç½®é€»è¾‘ä¸­çš„è„šæœ¬ï¼Œä¸æ”¯æŒæ‰“å¼€è„šæœ¬ã€å…³é—­è„šæœ¬åŠæ˜¾ç¤ºåè„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> curAllTasks </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetCurTasks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">curAllTasks </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> curAllTasks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> needJumpTask </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">curAllTasks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> _task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Name</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;è·³è½¬çš„ä½œä¸šå&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">needJumpTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        page</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">executeTaskTree</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">JumpTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">needJumpTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>é€‚ç”¨äºå¾…æ‰§è¡Œï¼Œæ‰§è¡Œä¸­çš„ä½œä¸šç»„è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> curAllTasks </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetCurTasks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">curAllTasks </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> curAllTasks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> needJumpTask </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">curAllTasks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> _task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Name</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;è·³è½¬çš„ä½œä¸šå&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">needJumpTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> taskGroup </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">curTaskGroup</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">taskGroup</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Status</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token maybe-class-name">JobStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">New</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token maybe-class-name">GlobalInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">SetTaskGroupTaskParentID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">taskGroup</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> taskGroup</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">SequenceID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> needJumpTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">ParentTaskID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token maybe-class-name">GlobalInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">SetTaskGroupTaskID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">taskGroup</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> taskGroup</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">SequenceID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> needJumpTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ ¹æ®ç‰©æ–™åå’Œç‰©æ–™å±æ€§è·å–æŒ‡å®šç‰©æ–™å±æ€§å€¼">æ ¹æ®ç‰©æ–™åå’Œç‰©æ–™å±æ€§è·å–æŒ‡å®šç‰©æ–™å±æ€§å€¼<a aria-hidden="true" class="hash-link" href="#æ ¹æ®ç‰©æ–™åå’Œç‰©æ–™å±æ€§è·å–æŒ‡å®šç‰©æ–™å±æ€§å€¼" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-1">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-1" title="Direct link to heading">â€‹</a></h4><p>æ ¹æ®ç‰©æ–™çš„åç§°å’Œç‰©æ–™å±æ€§çš„åç§°è·å–è¯¥ç‰©æ–™çš„å±æ€§å€¼ï¼Œè¿”å›ä¸ºæ•°ç»„</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -1">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -1" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šé¡¹å±æ€§ä¸­çš„å¯é€‰é¡¹è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> resultName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetResultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> materielID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;fa4bbc96-0f8c-4f15-976a-b1022c0b5920&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> materielPropertyName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;å‡ºåº“åŸåˆ™&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> materielName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;è½¯å«ï¼æ¶ˆå£°å™¨&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Report&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetCustomReportColumn&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;id=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> materielID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">ColumnList</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">ColumnList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> find </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">ColumnList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_col</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> _col</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Title</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> materielPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> field </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> isCustomData </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">field </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;CustomData_&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        field </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">substring</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">11</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        isCustomData </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Materiel&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetByName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;name=&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">materielName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> list </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">isCustomData </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;CustomData&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">typeof</span><span class="token plain"> _response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;CustomData&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;undefined&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;CustomData&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">typeof</span><span class="token plain"> _response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;undefined&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ResultName&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ ¹æ®ä½œä¸šçŠ¶æ€æ£€æŸ¥çš„å€¼è‡ªåŠ¨å¡«å†™ä½œä¸šé¡¹çš„å€¼">æ ¹æ®ä½œä¸šçŠ¶æ€æ£€æŸ¥çš„å€¼ï¼Œè‡ªåŠ¨å¡«å†™ä½œä¸šé¡¹çš„å€¼<a aria-hidden="true" class="hash-link" href="#æ ¹æ®ä½œä¸šçŠ¶æ€æ£€æŸ¥çš„å€¼è‡ªåŠ¨å¡«å†™ä½œä¸šé¡¹çš„å€¼" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-2">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-2" title="Direct link to heading">â€‹</a></h4><p>ä½œä¸šé¡¹ä¸Šæ˜¯é…ç½®äº†çŠ¶æ€æ£€æŸ¥çš„ä½œä¸šï¼Œæ ¹æ®çŠ¶æ€æ£€æŸ¥çš„å€¼ï¼Œè‡ªåŠ¨å¡«å†™ä½œä¸šé¡¹çš„å€¼</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -2">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -2" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šé¡¹é€»è¾‘ä¸­çš„æ‰§è¡Œè„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> task </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">curParentTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Tags</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Tags</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Tags</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Value</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c95ce17b-313c-4097-8c2f-6169ae98cb7d&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//è‡ªå®šä¹‰åˆ—è¡¨ä¸­ç‰¹æŠ¤è¿è¡Œçš„ID</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">SetTaskAttributeValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">contextID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Value&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">SetTaskAttributeValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">contextID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Value&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ™ºèƒ½ç”µå­é”å¼€é”é…ç½®">æ™ºèƒ½ç”µå­é”å¼€é”é…ç½®<a aria-hidden="true" class="hash-link" href="#æ™ºèƒ½ç”µå­é”å¼€é”é…ç½®" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-3">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-3" title="Direct link to heading">â€‹</a></h4><p>ä½œä¸šé¡¹ä¸ºæ™ºèƒ½ç”µå­é”çš„å¼€é”ï¼Œä½¿ç”¨æ­¤è„šæœ¬å®ç°å¼€é”</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -3">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -3" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šé¡¹é€»è¾‘ä¸­çš„æ‰§è¡Œè„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> resultName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetResultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">UnSmartLock</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ResultName&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ›´æ–°ä½œä¸šå…³è”èµ„äº§çš„æŒ‡å®šèµ„äº§å±æ€§å€¼">æ›´æ–°ä½œä¸šå…³è”èµ„äº§çš„æŒ‡å®šèµ„äº§å±æ€§å€¼<a aria-hidden="true" class="hash-link" href="#æ›´æ–°ä½œä¸šå…³è”èµ„äº§çš„æŒ‡å®šèµ„äº§å±æ€§å€¼" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-4">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-4" title="Direct link to heading">â€‹</a></h4><p>æ›´æ–°ä½œä¸šæ‰€å…³è”çš„èµ„äº§ä¸­æ•°æ®ç±»å‹ä¸ºæ—¥æœŸæ—¶é—´çš„æŒ‡å®šèµ„äº§å±æ€§çš„å€¼</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -4">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -4" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šé¡¹é€»è¾‘ä¸­çš„æ‰§è¡Œè„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> resultName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetResultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> assetID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetTaskAssetID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetCurTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">Common</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">AjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Asset&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetAssetProperty&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;assetID=&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">assetID</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&amp;propertyName=ä¸Šæ¬¡ä½œä¸šå¼€å§‹æ—¶é—´&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_isOk</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> _msg</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> now </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Date</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> now</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;yyyy-MM-dd HH:mm:ss&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">Common</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">AjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Asset&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;UpdateAssetPropertyValue&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;propertyID=&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&amp;propertyValue=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;put&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_isOk</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> _msg</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _isOk</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ResultName&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ‰“å¼€ä½œä¸šç»„ç›´æ¥è·³è½¬åˆ°ä½œä¸šç»„å±æ€§é¡µé¢">æ‰“å¼€ä½œä¸šç»„ç›´æ¥è·³è½¬åˆ°ä½œä¸šç»„å±æ€§é¡µé¢<a aria-hidden="true" class="hash-link" href="#æ‰“å¼€ä½œä¸šç»„ç›´æ¥è·³è½¬åˆ°ä½œä¸šç»„å±æ€§é¡µé¢" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-5">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-5" title="Direct link to heading">â€‹</a></h4><p>æ‰“å¼€ä½œä¸šç»„æ—¶ç›´æ¥è·³è½¬åˆ°ä½œä¸šç»„å±æ€§é¡µé¢çš„æ˜¾ç¤ºåè„šæœ¬</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -5">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -5" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„é…ç½®ä¸­çš„æ˜¾ç¤ºåè„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">showScriptIndex</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token dom variable" style="color:rgb(191, 199, 213)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">showScriptIndex</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">setIconHtml</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">executeTaskTree</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        executeTaskTree</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">SetIconHtml</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">completeTask</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_isSave</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> _value</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> _isNotupdateDisplay</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> _isNotNext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> task </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetCurTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">executeTaskTree</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        executeTaskTree</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">CompleteTaskAndNext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> _isSave</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> _value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">_isNotupdateDisplay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> _isNotNext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">curTaskChanged</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_callback</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        executeTaskInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">CurTaskChanged</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_callback</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">jsonParseSafe</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;}&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">||</span><span class="token plain"> str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;[&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">indexOf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;]&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> tasks </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetCurTasks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">GlobalInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetTaskGroupPageModel</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;auto&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  tasks </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> selectedTask </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tasks</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> _task</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Name</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;å…¥åº“1&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> executeTaskInfo </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ExecuteTaskInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">completeTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setIconHtml</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">executeTaskInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">inputValueBox</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">InputValueBox</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;valueName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">executeTaskInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">inputValueBox</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">executeTaskCommon</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> executeTaskTree </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">ExecuteTaskTree</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;divTaskTree&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">curTaskChanged</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">executeTaskTree</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">JumpTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">selectedTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">selectedTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">selectedTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> tag </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> selectedTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Tags&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> data </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">Json</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> tag </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> tag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">DefaultValue</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">jsonParseSafe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">DefaultValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    jsonFormat</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> tag </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> tag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Format</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">jsonParseSafe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    task</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> selectedTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    title</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> selectedTask</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    inputID</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;customInputValue0&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> curView </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> plus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">webview</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">currentWebview</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  mui</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">openWindow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      url</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;JsonEditorView.html&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      id</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Common</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">NewGuid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      extras</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        parentViewID</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> curView</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        data</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      createNew</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ ¹æ®èµ„äº§åè·å–çš„èµ„äº§å·å€¼èµ‹å€¼ç»™ä½œä¸šé¡¹é»˜è®¤å€¼çš„è„šæœ¬">æ ¹æ®èµ„äº§åè·å–çš„èµ„äº§å·å€¼èµ‹å€¼ç»™ä½œä¸šé¡¹é»˜è®¤å€¼çš„è„šæœ¬<a aria-hidden="true" class="hash-link" href="#æ ¹æ®èµ„äº§åè·å–çš„èµ„äº§å·å€¼èµ‹å€¼ç»™ä½œä¸šé¡¹é»˜è®¤å€¼çš„è„šæœ¬" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-6">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-6" title="Direct link to heading">â€‹</a></h4><p>æ ¹æ®èµ„äº§åè·å–çš„èµ„äº§å·å€¼ï¼ŒæŠŠå€¼èµ‹ç»™ä½œä¸šé¡¹é»˜è®¤å€¼</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -6">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -6" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šé¡¹é€»è¾‘ä¸­çš„æ‰§è¡Œè„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var resultName = ScriptEngine.GetResultName();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ScriptEngine.GetAjaxToApiServer(&#x27;Asset&#x27;, &#x27;GetAssets&#x27;, &#x27;&#x27;, null, &#x27;get&#x27;,function(_result){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> var find = _.find(_result,function(_item){return _item.Name == &#x27;æ–°èµ„äº§1&#x27;});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> if(find){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ScriptEngine[resultName] = find.ID;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ScriptEngine.Context.SetTaskAttributeValue(contextID,&#x27;Value&#x27;,find.ID)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">return { &#x27;ResultName&#x27;:resultName};</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="åˆ¤æ–­å½“å‰ç™»é™†äººå¯æ‰§è¡Œä½œä¸šç»„æ•°é‡å¤§äº5æ—¶è¿”å›ture">åˆ¤æ–­å½“å‰ç™»é™†äººå¯æ‰§è¡Œä½œä¸šç»„æ•°é‡å¤§äº5æ—¶è¿”å›ture<a aria-hidden="true" class="hash-link" href="#åˆ¤æ–­å½“å‰ç™»é™†äººå¯æ‰§è¡Œä½œä¸šç»„æ•°é‡å¤§äº5æ—¶è¿”å›ture" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-7">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-7" title="Direct link to heading">â€‹</a></h4><p>è®¡ç®—ç»ˆç«¯å½“å‰ç™»å½•äººå‘˜å¯æ‰§è¡Œçš„ä½œä¸šç»„æ•°é‡å¹¶åˆ¤æ–­ï¼Œå¤§äº5æ—¶è¿”å›tureï¼Œæœªæ¥å—ä¸ç®—åœ¨å†…</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -7">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -7" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„çš„æ‰“å¼€è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var resultName = ScriptEngine.GetResultName();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var result = false;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ScriptEngine.GetLoginUser(function (_result) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  console.log(_result);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  if (_result &amp;&amp; _result.UserID) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ScriptEngine.GetAjaxToApiServer(&#x27;UserConfig&#x27;, &#x27;GetRoles&#x27;, &#x27;userID=&#x27; + _result.UserID, &#x27;&#x27;, &#x27;get&#x27;, function (_result) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      console.log(_result);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      var roleIDList = [];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      if (_result &amp;&amp; _result.length &gt; 0) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _.each(_result, function (_oneRole) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          roleIDList.push(_oneRole.ID);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      try {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        var daAccess = new DAAccess();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        var daTaskGroup = daAccess.GetDA(SyncEntity.TaskGroup);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        daTaskGroup.GetByUserGroupID(roleIDList, function (_isSuccess, _taskGroups) {          </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          if (_isSuccess) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            var filters = _.filter(_taskGroups, function (_taskGroup) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              if (_taskGroup.RelatedSequenceList &amp;&amp; _taskGroup.RelatedSequenceList.length &gt; 0) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                //å·²æ¥å—ä¸”ä¸æ˜¯å·²æ‰§è¡ŒçŠ¶æ€</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                return _.find(_taskGroup.RelatedSequenceList, function (_item) { return ((_item[&#x27;IsRobTask&#x27;] &amp;&amp; _item[&#x27;RobTaskPersonID&#x27;] != Common.GuidEmpty) || !_item[&#x27;IsRobTask&#x27;]) &amp;&amp; _item[&#x27;SequenceStatus&#x27;] != 3 });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                return false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            result = filters &amp;&amp; filters.length &gt; 5 ? true : false;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            alert(&#x27;è·å–ä½œä¸šç»„å¤±è´¥&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          alert(&#x27;ç»“æœ = &#x27; + result);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          alert(&#x27;å¯æ‰§è¡Œçš„ä½œä¸šç»„ä¸ªæ•° = &#x27; + filters.length);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          ScriptEngine[resultName] = result;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      } catch (e) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        alert(e.message);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ScriptEngine[resultName] = result;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    alert(&#x27;ç»“æœ = &#x27; + _isSuccess);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ScriptEngine[resultName] = result;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">return { &#x27;ResultName&#x27;: resultName };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ ¹æ®è®¾å¤‡çš„è¿è¡Œæ—¶é•¿è‡ªåŠ¨è®¡ç®—å‡ºæ¶¦æ»‘å¯¿å‘½">æ ¹æ®è®¾å¤‡çš„è¿è¡Œæ—¶é•¿ï¼Œè‡ªåŠ¨è®¡ç®—å‡ºæ¶¦æ»‘å¯¿å‘½<a aria-hidden="true" class="hash-link" href="#æ ¹æ®è®¾å¤‡çš„è¿è¡Œæ—¶é•¿è‡ªåŠ¨è®¡ç®—å‡ºæ¶¦æ»‘å¯¿å‘½" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-8">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-8" title="Direct link to heading">â€‹</a></h4><p>è®¾å¤‡è¿è¡Œæ—¶é•¿æœ€é«˜ä¸º300å°æ—¶ï¼Œè¶…è¿‡éœ€è¿›è¡Œæ¶¦æ»‘ä¿å…»ï¼Œæ ¹æ®300-è¿è¡Œæ—¶é•¿å±æ€§å€¼ï¼Œè‡ªåŠ¨è®¡ç®—å‡ºæ¶¦æ»‘å¯¿å‘½ä½œä¸šé¡¹çš„å€¼</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -8">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -8" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šé¡¹çš„é»˜è®¤å€¼è¡¨è¾¾å¼</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">varÂ resultNameÂ =Â ScriptEngine.GetResultName();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">varÂ assetIDÂ =Â ScriptEngine.Context.GetTaskAssetID(ScriptEngine.Context.GetCurTask())</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">if(!assetID){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â Â assetID=Â &#x27;12aab825-b7e5-4610-91af-d782ba0239e0&#x27;Â //èµ„äº§ID</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ScriptEngine.GetAjaxToApiServer(&#x27;Asset&#x27;,Â &#x27;GetLatestTimeseries&#x27;,Â &#x27;assetID=&#x27;+assetID+&#x27;&amp;attrNames=è¿è¡Œæ—¶é•¿&#x27;,Â &#x27;&#x27;,Â &#x27;get&#x27;,Â functionÂ (_result)Â {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â varÂ valueÂ =Â 300;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â alert(&#x27;è¿è¡Œæ—¶é•¿&#x27;Â +Â _result[&#x27;è¿è¡Œæ—¶é•¿&#x27;][&#x27;Value&#x27;])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â ifÂ (_resultÂ &amp;&amp;Â _result[&#x27;è¿è¡Œæ—¶é•¿&#x27;]Â &amp;&amp;Â _result[&#x27;è¿è¡Œæ—¶é•¿&#x27;][&#x27;Value&#x27;])Â {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â Â valueÂ =Â 300Â -Â (_result[&#x27;è¿è¡Œæ—¶é•¿&#x27;][&#x27;Value&#x27;])</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â ScriptEngine.Context.SetTaskAttributeValue(contextID,&#x27;Value&#x27;,value.toString());</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â ScriptEngine[resultName]Â =Â value.toString();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">returnÂ {Â &#x27;ResultName&#x27;:resultName};</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="åŠ¨ç«ä½œä¸šä¸­åˆ¤æ–­å…·æœ‰macåœ°å€çš„å®šä½ç»ˆç«¯æ˜¯å¦åœ¨å›´æ å†…">åŠ¨ç«ä½œä¸šä¸­ï¼Œåˆ¤æ–­å…·æœ‰MACåœ°å€çš„å®šä½ç»ˆç«¯æ˜¯å¦åœ¨å›´æ å†…<a aria-hidden="true" class="hash-link" href="#åŠ¨ç«ä½œä¸šä¸­åˆ¤æ–­å…·æœ‰macåœ°å€çš„å®šä½ç»ˆç«¯æ˜¯å¦åœ¨å›´æ å†…" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-9">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-9" title="Direct link to heading">â€‹</a></h4><p>åœ¨åŠ¨ç«ä½œä¸šä¸­ï¼Œç»“åˆå®šä½ç³»ç»Ÿï¼Œåˆ¤æ–­æœ‰MACåœ°å€çš„å®šä½ç»ˆç«¯æ˜¯å¦åœ¨ç»˜åˆ¶çš„åŠ¨ç«åŒºåŸŸå›´æ å†…</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -9">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -9" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šæ¡ä»¶è„šæœ¬ã€ä½œä¸šé¡¹é€»è¾‘æ‰§è¡Œè„šæœ¬ã€ä½œä¸šç»„æ‰“å¼€è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var joySuchAjaxToApiServer = function (_action, _urlParameters, _data, _method, _callback) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  try {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var _urlParameters = (_urlParameters) ? _urlParameters : &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var _method = (_method) ? _method : &#x27;get&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var _data = (_data) ? _data : null;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var url = &#x27;http://192.168.125.194:46000&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (_action) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      url += &#x27;/&#x27; + _action</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (_urlParameters)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      url += &#x27;?&#x27; + _urlParameters;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var ajaxOptions = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      type: _method,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      contentType: &#x27;application/json; charset=utf-8&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      data: _data,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      url: url,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      timeout: 100000, //è¶…æ—¶æ—¶é—´ï¼š10ç§’</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      dataType: &#x27;json&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      success: function (_result, _textStatus, _jqXHR) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (_result.errorCode == 0) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          _result.IsOk = true;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          _result.Response = _result.data;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          _result.IsOk = false;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _callback(_result.IsOk, _result.errorMsg, _result.Response);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      error: function (_jqXHR, _textStatus, _errorThrown) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (_callback)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          _callback(false, &#x27;è¯·æ±‚å¤±è´¥&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (_action != &#x27;getAccessTokenV2&#x27;) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ajaxOptions.headers = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Authorization: joySuchToken//è¿™é‡Œæ˜¯Token</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $.ajax(ajaxOptions);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  } catch (e) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (_callback)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      _callback(false, e.message);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var setJoySuchToken = function (_callback) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  var data = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &#x27;licence&#x27;: &#x27;d63a6557aa5fe703cefc5cc50f846895&#x27;//&#x27;5bb6bfae7eeb4cdd8d9099fc05a9d379&#x27;  // å›ºå®š</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  joySuchAjaxToApiServer(&#x27;getAccessTokenV2&#x27;, &#x27;&#x27;, JSON.stringify(data), &#x27;post&#x27;, function (_isOk, _errMsg, _result) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (_isOk) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      joySuchToken = _result.token;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      refreshToken = _result.refreshToken</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      tokenEffectiveTs = _result.startTime + _result.expiresIn * 1000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    _callback()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// è·å–èµ„äº§å¤–éƒ¨æ ‡ç­¾</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var getAssetTag = function (_assetName, _callback) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  var mac = &#x27;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Common.AjaxToApiServer(&#x27;Asset&#x27;, &#x27;GetAllExtTags&#x27;, &#x27;&#x27;, null, &#x27;GET&#x27;, function (_isOk, _msg, _response) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (_isOk) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      var find = _.find(_response, function (_item) { return _item.AssetName == _assetName &amp;&amp; _item.APName == &#x27;MACåœ°å€&#x27; });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      if (find) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        mac = find.ExtTag;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      alert(&#x27;è·å–èµ„äº§å¤–éƒ¨æ ‡ç­¾å¤±è´¥ï¼Œå¤±è´¥çš„åŸå› ä¸ºï¼š&#x27; + _msg);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    _callback(mac)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var resultName = ScriptEngine.GetResultName();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var joySuchToken = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var refreshToken = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var tokenEffectiveTs = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var railID = ScriptEngine.Context.GetTaskGroupPropertyValue(&#x27;å›´æ ID&#x27;)// å›´æ ID</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">getAssetTag(&#x27;å®šä½èƒ¸ç‰Œ1&#x27;, function (_mac) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  if (_mac) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    setJoySuchToken(function () {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      var condition = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;buildId&#x27;: &#x27;203498&#x27;,Â   // å›ºå®šÂ Â Â Â Â Â Â Â Â Â Â Â </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;railId&#x27;: railID</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      joySuchAjaxToApiServer(&#x27;WebLocate/locateByRail&#x27;, &#x27;accessToken=&#x27; + joySuchToken, JSON.stringify(condition), &#x27;post&#x27;, function (_isOk, _errMsg, _result) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (_isOk &amp;&amp; _result &amp;&amp; _result[&#x27;recordList&#x27;]) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          var find = _.find(_result[&#x27;recordList&#x27;], function (_item) { return _item.userId == _mac });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          if (!find) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          for(varÂ iÂ =Â 0;i&lt;1000;i++){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â Â Â Â Â Â Â Â Â Â Â Â alert(&#x27;ä¸åœ¨åŠ¨ç«ä½œä¸šèŒƒå›´å†…&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â Â Â Â Â Â Â Â Â Â }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         for(varÂ iÂ =Â 0;i&lt;1000;i++){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â Â Â Â Â Â Â Â Â Â Â Â alert(&#x27;ä¸åœ¨åŠ¨ç«ä½œä¸šèŒƒå›´å†…&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â Â Â Â Â Â Â Â Â Â }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ScriptEngine[resultName] = _mac;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    alert(&#x27;æœªè·å–åˆ°å½“å‰MACåœ°å€&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ScriptEngine[resultName] = _mac;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">})</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">return { &#x27;ResultName&#x27;: resultName };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="webç«¯è„šæœ¬">Webç«¯è„šæœ¬<a aria-hidden="true" class="hash-link" href="#webç«¯è„šæœ¬" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="å¾—åˆ°èµ„äº§çš„æ‰€æœ‰å­å­™è¿”å›èµ„äº§åçš„åˆ—è¡¨">å¾—åˆ°èµ„äº§çš„æ‰€æœ‰å­å­™ï¼Œè¿”å›èµ„äº§åçš„åˆ—è¡¨<a aria-hidden="true" class="hash-link" href="#å¾—åˆ°èµ„äº§çš„æ‰€æœ‰å­å­™è¿”å›èµ„äº§åçš„åˆ—è¡¨" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-10">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-10" title="Direct link to heading">â€‹</a></h4><p>æ ¹æ®æŒ‡å®šçš„èµ„äº§åå¾—åˆ°å…¶æ‰€æœ‰å­å­™ï¼Œè¿”å›èµ„äº§åçš„åˆ—è¡¨</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -10">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -10" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„å¯é€‰é¡¹è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> resultName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetResultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> assetNames </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAssets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;aaaaa&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//&#x27;aaaaa&#x27;ä¸ºèµ„äº§å</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            assetNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ID&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Name&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Name</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> assetNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ResultName&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> resultName </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ•ˆæœå¦‚å›¾</li></ul><img alt=" " src="/docimg/jiaoben1.png"><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="å¾—åˆ°å›ºå®šç»„ç»‡å•å…ƒçš„ç›´æ¥å„¿å­æ­¤å¤–åŠ ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²è¿”å›åˆ—è¡¨">å¾—åˆ°å›ºå®šç»„ç»‡å•å…ƒçš„ç›´æ¥å„¿å­ï¼Œæ­¤å¤–åŠ ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ï¼Œè¿”å›åˆ—è¡¨<a aria-hidden="true" class="hash-link" href="#å¾—åˆ°å›ºå®šç»„ç»‡å•å…ƒçš„ç›´æ¥å„¿å­æ­¤å¤–åŠ ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²è¿”å›åˆ—è¡¨" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-11">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-11" title="Direct link to heading">â€‹</a></h4><p>å¾—åˆ°å›ºå®šç»„ç»‡å•å…ƒä¸‹æ‰€æœ‰çš„ç›´æ¥å„¿å­ï¼Œå¹¶åœ¨åé¢åŠ ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ï¼Œè¿”å›æˆåˆ—è¡¨</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -11">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -11" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„å¯é€‰é¡¹è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> field </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;*&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//å›ºå®šå­—ç¬¦ä¸²å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> resultName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetResultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> orgUnitNames </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> orgUnitName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ç›‘ç†é˜Ÿ&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//å‚æ•° ç»„ç»‡å•å…ƒå</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetOrgUnits</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">orgUnitName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//å¾—åˆ°ç»“æœç¬¬ä¸€ä¸ªæ˜¯ç»„ç»‡å•å…ƒæœ¬èº«ï¼Œåªéœ€å„¿å­ï¼Œåˆ™ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            orgUnitNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ID&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Name&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Name</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> field</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> orgUnitNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ResultName&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> resultName </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ•ˆæœå¦‚å›¾</li></ul><img alt=" " src="/docimg/jiaoben2.png"><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ç»„ç»‡å•å…ƒå±äºç™»å½•äººç»„ç»‡å•å…ƒå²—ä½ä¸ºå›ºå®šåç§°æ‰€æœ‰äººåˆ—è¡¨">ç»„ç»‡å•å…ƒå±äºç™»å½•äººç»„ç»‡å•å…ƒï¼Œå²—ä½ä¸ºå›ºå®šåç§°ï¼Œæ‰€æœ‰äººåˆ—è¡¨<a aria-hidden="true" class="hash-link" href="#ç»„ç»‡å•å…ƒå±äºç™»å½•äººç»„ç»‡å•å…ƒå²—ä½ä¸ºå›ºå®šåç§°æ‰€æœ‰äººåˆ—è¡¨" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-12">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-12" title="Direct link to heading">â€‹</a></h4><p>ç»„ç»‡å•å…ƒå±äºå½“å‰ç™»å½•ç”¨æˆ·ç»„ç»‡å•å…ƒï¼Œå²—ä½ä¸ºå›ºå®šåç§°ï¼Œè¿”å›æ»¡è¶³æ¡ä»¶çš„æ‰€æœ‰äººçš„åˆ—è¡¨</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -12">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -12" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„å¯é€‰é¡¹è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> postName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ç›‘ç†å‘˜&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> resultName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetResultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> users </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetLoginUser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_curLoginUser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_curLoginUser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> curUserID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _curLoginUser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">UserID</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain">_curLoginUser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">UserID</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">_curLoginUser</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> sql </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;select id,bi_name as Name from [User] where ai_deleted=\&#x27;0\&#x27;  and id in(\</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                    select userid from userrolegroup where orgunitID in(\</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                        SELECT DISTINCT ID FROM H_OrgUnitRelation WHERE ParentID in(select orgunitid from userrolegroup where userid=\&#x27;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> curUserID </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27;)\</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                    or orgunitid IN(select orgunitid from userrolegroup where userid=\&#x27;&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> curUserID </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27;))\</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">                    and roleid in(select id from role where bi_name=\&#x27;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> postName </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27; and ai_deleted=\&#x27;0\&#x27;)) order by bi_name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Sql&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetDataSetBySQL&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sql=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> sql</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Cells</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Cells</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ResultName&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> resultName </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ•ˆæœå¦‚å›¾</li></ul><img alt=" " src="/docimg/jiaoben3.png"><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ç»„ç»‡å•å…ƒå±äºä½œä¸šç»„ç»„ç»‡å•å…ƒå²—ä½ä¸ºå›ºå®šåç§°-æ‰€æœ‰äººåˆ—è¡¨">ç»„ç»‡å•å…ƒå±äºä½œä¸šç»„ç»„ç»‡å•å…ƒï¼Œå²—ä½ä¸ºå›ºå®šåç§°ï¼Œ æ‰€æœ‰äººåˆ—è¡¨<a aria-hidden="true" class="hash-link" href="#ç»„ç»‡å•å…ƒå±äºä½œä¸šç»„ç»„ç»‡å•å…ƒå²—ä½ä¸ºå›ºå®šåç§°-æ‰€æœ‰äººåˆ—è¡¨" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-13">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-13" title="Direct link to heading">â€‹</a></h4><p>ç»„ç»‡å•å…ƒå±äºä½œä¸šç»„çš„ç»„ç»‡å•å…ƒï¼Œå²—ä½ä¸ºå›ºå®šåç§°ï¼Œè¿”å›æ»¡è¶³æ¡ä»¶çš„æ‰€æœ‰äººçš„åˆ—è¡¨</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -13">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -13" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„å¯é€‰é¡¹è„šæœ¬ï¼ˆè®¡åˆ’å’Œåˆ›å»ºæ´»åŠ¨ä¸é€‚ç”¨ï¼‰</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> postName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ç›‘ç†å‘˜&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> taskGroupProperyName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;åº“å­˜&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// åç»­ä»£ç ä¼šæ ¹æ®è¿™ä¸ªå±æ€§è·å–å½“å‰ä½œä¸šç»„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> users </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> taskgroupProperty </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetTaskGroupProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">taskGroupProperyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">taskgroupProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> resultName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetResultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> sql </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;select DISTINCT id,bi_name as Name from [User] where ai_deleted=\&#x27;0\&#x27; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    and id in(\</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        select userid from userrolegroup where orgunitID in(\</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">            SELECT DISTINCT ID FROM H_OrgUnitRelation WHERE ParentID in(select OrgUnitID from taskGroupEntity where id IN(select TaskGroupID from TaskGroupProperty where ID=\&#x27;&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> taskgroupProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27;))\</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        ) or orgunitid IN(select OrgUnitID from taskGroupEntity where id IN(select TaskGroupID from TaskGroupProperty where ID=\&#x27;&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> taskgroupProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27;))    \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">        and roleid in(select id from role where bi_name=\&#x27;&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> postName </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27; and ai_deleted=\&#x27;0\&#x27;)\</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    ) order by bi_name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Sql&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetDataSetBySQL&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sql=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> sql</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Cells</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Cells</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ResultName&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> resultName </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;å±æ€§ä¸å­˜åœ¨ï¼š&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> taskGroupProperyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ•ˆæœå¦‚å›¾</li></ul><img alt=" " src="/docimg/jiaoben4.png"><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ ¹æ®åç§°æ‰¾åˆ°å¯¹åº”èµ„äº§å°†æ­¤èµ„äº§çš„æŸä¸€å±æ€§æ›´æ–°åˆ°å¦ä¸€ä½œä¸šç»„å±æ€§é‡Œ">æ ¹æ®åç§°æ‰¾åˆ°å¯¹åº”èµ„äº§ï¼Œå°†æ­¤èµ„äº§çš„æŸä¸€å±æ€§æ›´æ–°åˆ°å¦ä¸€ä½œä¸šç»„å±æ€§é‡Œ<a aria-hidden="true" class="hash-link" href="#æ ¹æ®åç§°æ‰¾åˆ°å¯¹åº”èµ„äº§å°†æ­¤èµ„äº§çš„æŸä¸€å±æ€§æ›´æ–°åˆ°å¦ä¸€ä½œä¸šç»„å±æ€§é‡Œ" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-14">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-14" title="Direct link to heading">â€‹</a></h4><p>æ ¹æ®åç§°æ‰¾åˆ°å¯¹åº”èµ„äº§ï¼Œèµ„äº§åå”¯ä¸€ï¼Œå°†æ­¤èµ„äº§çš„æŸä¸€å±æ€§çš„å€¼æ›´æ–°åˆ°å¦ä¸€ä½œä¸šç»„å±æ€§é‡Œ</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -14">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -14" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„ä¿®æ”¹å€¼äº‹ä»¶åè„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> assetName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;é˜€é—¨11&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> assetPropertyName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;çŠ¶æ€å­—ç¬¦ä¸²&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> taskGroupPropertyName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;é˜€é—¨11çš„çŠ¶æ€å­—ç¬¦ä¸²&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> urlParameters </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;parentID=invalid&amp;name=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> assetName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Asset&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetByName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">urlParameters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> asset </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">asset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        urlParameters </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;assetID=&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">asset</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&amp;propertyName=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> assetPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Asset&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetAssetProperty&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">urlParameters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> assetProperty </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">assetProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">SetTaskGroupPropertyValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">taskGroupPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">assetProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">CurrentValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">           </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;èµ„äº§å±æ€§ä¸å­˜åœ¨ï¼š&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> assetName </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> assetPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;èµ„äº§ä¸å­˜åœ¨:&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> assetName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ•ˆæœå¦‚å›¾</li></ul><img alt=" " src="/docimg/jiaoben5.png"><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ ¹æ®äººå‘˜åç§°æŸ¥æ‰¾äººå‘˜æŸä¸€å±æ€§æ›´å¤šå±æ€§æ›´æ–°åˆ°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§">æ ¹æ®äººå‘˜åç§°æŸ¥æ‰¾äººå‘˜æŸä¸€å±æ€§ï¼ˆæ›´å¤šå±æ€§ï¼‰æ›´æ–°åˆ°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§<a aria-hidden="true" class="hash-link" href="#æ ¹æ®äººå‘˜åç§°æŸ¥æ‰¾äººå‘˜æŸä¸€å±æ€§æ›´å¤šå±æ€§æ›´æ–°åˆ°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-15">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-15" title="Direct link to heading">â€‹</a></h4><p>æ ¹æ®äººå‘˜çš„åç§°æŸ¥æ‰¾è¯¥äººå‘˜æ›´å¤šå±æ€§ä¸­çš„æŸä¸€å±æ€§ï¼Œå°†æ­¤å±æ€§å€¼æ›´æ–°åˆ°å¦ä¸€ä½œä¸šç»„å±æ€§é‡Œ</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -15">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -15" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„ä¿®æ”¹å€¼äº‹ä»¶åè„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> userName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a11ç”²ç­ç›‘ç†å‘˜&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> userPropertyName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;èµ„è´¨&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> taskGroupPropertyName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;äººå‘˜å±æ€§çš„å€¼&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> urlParameters </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;parentID=invalid&amp;name=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> userName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;UserConfig&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetByName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">urlParameters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> user </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> customProperties </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">CustomProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">customProperties</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            customProperties </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">customProperties</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> property </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">customProperties</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> _item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Name</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain">userPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">SetTaskGroupPropertyValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">taskGroupPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;äººå‘˜æ‰©å±•å±æ€§ä¸å­˜åœ¨:&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> userName </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;.&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> userPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;äººå‘˜æ²¡æœ‰æ‰©å±•å±æ€§:&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> userName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;äººå‘˜ä¸å­˜åœ¨:&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> userName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ•ˆæœå¦‚å›¾</li></ul><img alt=" " src="/docimg/jiaoben6.png"><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æŒ‰ç…§åˆ—è¡¨åå¾—åˆ°åˆ—è¡¨é¡¹">æŒ‰ç…§åˆ—è¡¨åå¾—åˆ°åˆ—è¡¨é¡¹<a aria-hidden="true" class="hash-link" href="#æŒ‰ç…§åˆ—è¡¨åå¾—åˆ°åˆ—è¡¨é¡¹" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-16">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-16" title="Direct link to heading">â€‹</a></h4><p>æŒ‰ç…§åˆ—è¡¨çš„åç§°ï¼Œå¾—åˆ°è¯¥åˆ—è¡¨çš„é¡¹</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -16">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -16" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„å¯é€‰é¡¹è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain">Â resultName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetResultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain">Â responseItems </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain">Â responseName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Â </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;åœ°åŒº&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//å‚æ•° è‡ªå®šä¹‰åˆ—è¡¨å</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">responseName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> urlParameters </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;parentID=&amp;name=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> responseName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;UserDefinedList&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetByName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">urlParameters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">               </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        urlParameters </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;parentID=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;UserDefinedList&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetChild&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">urlParameters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">                </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ²¡æœ‰æ‰¾åˆ°â€œ&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">responseName</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;â€çš„åˆ—è¡¨é¡¹&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">     </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ²¡æœ‰æ‰¾åˆ°â€œ&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">responseName</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;â€çš„åˆ—è¡¨ç±»å‹&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain">Â </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">Â </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ResultName&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ•ˆæœå¦‚å›¾</li></ul><img alt=" " src="/docimg/jiaoben7.png"><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æŒ‰ç…§idå¾—åˆ°åˆ—è¡¨é¡¹çš„åç§°">æŒ‰ç…§idå¾—åˆ°åˆ—è¡¨é¡¹çš„åç§°<a aria-hidden="true" class="hash-link" href="#æŒ‰ç…§idå¾—åˆ°åˆ—è¡¨é¡¹çš„åç§°" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-17">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-17" title="Direct link to heading">â€‹</a></h4><p>æŒ‰ç…§åˆ—è¡¨é¡¹çš„idå¾—åˆ°åˆ—è¡¨é¡¹çš„åç§°</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -17">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -17" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„å¯é€‰é¡¹è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain">Â resultName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetResultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain">Â responseItemID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Â </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;698DB607-ED42-4FC1-978A-144D410FC46C&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain">Â list </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Â </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;UserDefinedList&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetByID&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;id=&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain">responseItemID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">Â </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â Â list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ID&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Name&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Name</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Â ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain">Â </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">Â </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ResultName&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ•ˆæœå¦‚å›¾</li></ul><img alt=" " src="/docimg/jiaoben8.png"><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="é€€æ–™æ˜ç»†---å®é™…é€€æ–™--é€€æ–™å·®é¢">é€€æ–™æ˜ç»† - å®é™…é€€æ–™ = é€€æ–™å·®é¢<a aria-hidden="true" class="hash-link" href="#é€€æ–™æ˜ç»†---å®é™…é€€æ–™--é€€æ–™å·®é¢" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-18">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-18" title="Direct link to heading">â€‹</a></h4><p>é€€æ–™æ˜ç»† - å®é™…é€€æ–™ = é€€æ–™å·®é¢ï¼Œéƒ½ä¸ºjsonæ ¼å¼çš„åº“å­˜æ“ä½œå±æ€§ï¼Œä»¥é€€æ–™æ˜ç»†ä¸ºå‡†ï¼Œç›¸åŒç‰©æ–™çš„æ•°é‡ç›¸å‡ï¼Œæœ‰åˆ™å‡å»å®é™…é€€æ–™ï¼Œç»“æœè‡ªåŠ¨æ›´æ–°è‡³é€€æ–™å·®é¢ï¼Œé€€æ–™å·®é¢åˆå§‹å€¼ä¸ºç©º</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -18">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -18" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„ä¿®æ”¹å€¼äº‹ä»¶åè„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> materialReturn </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetTaskGroupPropertyValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;é€€æ–™æ˜ç»†&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> realReturn </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetTaskGroupPropertyValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;å®é™…é€€æ–™&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">materialReturn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> materialReturnObj </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">materialReturn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">realReturn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> realReturnObj </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">realReturn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">materialReturnObj </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> materialReturnObj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ“ä½œé¡¹&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> realReturnObj </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> realReturnObj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ“ä½œé¡¹&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> materialReturnOperationItemList </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> materialReturnObj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ“ä½œé¡¹&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> realReturnOperationItemList </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> realReturnObj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ“ä½œé¡¹&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">materialReturnOperationItemList </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> materialReturnOperationItemList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> realReturnOperationItemList </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> realReturnOperationItemList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> materialReturnOperationItemList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> materielName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> materialReturnOperationItemList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ç‰©æ–™&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">materielName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> find </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">realReturnOperationItemList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> _item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ç‰©æ–™&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> materielName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">find </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ•°é‡&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            materialReturnOperationItemList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ•°é‡&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">parseFloat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">materialReturnOperationItemList</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ•°é‡&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">parseFloat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ•°é‡&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> modifyValue </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">stringify</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">materialReturnObj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">SetTaskGroupPropertyValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;é€€æ–™å·®é¢&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> modifyValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ•ˆæœå¦‚å›¾</li></ul><img alt=" " src="/docimg/jiaoben9.png"><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ä½œä¸šç»„å±æ€§ä¸ºjsonæ“ä½œé¡¹ä¸‹æœ‰æ ‡å‡†ä»·æ ¼å¹¶ä¸”å¤§äº200æ—¶æ›´æ–°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§ä¸ºæ˜¯">ä½œä¸šç»„å±æ€§ä¸ºjsonï¼Œæ“ä½œé¡¹ä¸‹æœ‰æ ‡å‡†ä»·æ ¼å¹¶ä¸”å¤§äº200æ—¶ï¼Œæ›´æ–°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§ä¸º&#x27;æ˜¯&#x27;<a aria-hidden="true" class="hash-link" href="#ä½œä¸šç»„å±æ€§ä¸ºjsonæ“ä½œé¡¹ä¸‹æœ‰æ ‡å‡†ä»·æ ¼å¹¶ä¸”å¤§äº200æ—¶æ›´æ–°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§ä¸ºæ˜¯" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-19">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-19" title="Direct link to heading">â€‹</a></h4><p>å½“å‰ä½œä¸šç»„å±æ€§ä¸ºjsonï¼Œå…¶ä¸­æ“ä½œé¡¹ä¸‹æœ‰æ ‡å‡†ä»·æ ¼ï¼Œå½“æ ‡å‡†ä»·æ ¼å¤§äº200æ—¶ï¼Œæ›´æ–°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§ä¸ºåˆ—è¡¨é¡¹çš„&#x27;æ˜¯&#x27;</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -19">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -19" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„ä¿®æ”¹å€¼äº‹ä»¶åè„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain">Â curTaskGroupPropertyName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">Â </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;åº“å­˜&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> modifyTaskGroupPropertyName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ˜¯å¦åˆ—è¡¨&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain">Â property </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetTaskGroupProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">curTaskGroupPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(255, 203, 107)">JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">parse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ“ä½œé¡¹&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ“ä½œé¡¹&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> find </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ“ä½œé¡¹&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> _item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ ‡å‡†ä»·æ ¼&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">parseFloat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_item</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ ‡å‡†ä»·æ ¼&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">find</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> urlParameters </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;parentID=invalid&amp;name=æ˜¯&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// è·å–åå­—ä¸ºâ€œæ˜¯â€çš„åˆ—è¡¨é¡¹ï¼ˆæ³¨æ„ï¼šåˆ—è¡¨é¡¹åå­—ä¸ºâ€œæ˜¯â€çš„ä¸èƒ½æœ‰å¤šä¸ªï¼Œå¦åˆ™æœ‰å¯èƒ½æ¥è‡ªäºä¸åŒçš„åˆ—è¡¨ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;UserDefinedList&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetByName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">urlParameters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;get&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">               </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">SetTaskGroupPropertyValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">modifyTaskGroupPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;æ²¡æœ‰æ‰¾åˆ°â€œæ˜¯â€çš„åˆ—è¡¨é¡¹&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">         </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ä½œä¸šç»„å±æ€§å€¼ä¸ºç©ºï¼š&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> curTaskGroupPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">error</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ä½œä¸šç»„å±æ€§ä¸å­˜åœ¨ï¼š&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> curTaskGroupPropertyName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>æ•ˆæœå¦‚å›¾</li></ul><img alt=" " src="/docimg/jiaoben10.png"><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="ç­›é€‰å‡ºç»„ç»‡å•å…ƒå±äºaå²—ä½ç»´ä¿®-ç»„ç»‡å•å…ƒå±äºbå²—ä½ä¸ºç­é•¿çš„äººçš„é›†åˆ">ç­›é€‰å‡ºç»„ç»‡å•å…ƒå±äºaï¼Œå²—ä½ç»´ä¿®+ ç»„ç»‡å•å…ƒå±äºbï¼Œå²—ä½ä¸ºç­é•¿çš„äººçš„é›†åˆ<a aria-hidden="true" class="hash-link" href="#ç­›é€‰å‡ºç»„ç»‡å•å…ƒå±äºaå²—ä½ç»´ä¿®-ç»„ç»‡å•å…ƒå±äºbå²—ä½ä¸ºç­é•¿çš„äººçš„é›†åˆ" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-20">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-20" title="Direct link to heading">â€‹</a></h4><p>ç­›é€‰å‡ºç»„ç»‡å•å…ƒå±äºaï¼Œå²—ä½ç»´ä¿®+ ç»„ç»‡å•å…ƒå±äºbï¼Œå²—ä½ä¸ºç­é•¿çš„äººçš„é›†åˆ(æ­¤æ¡ä»¶å¯ä»¥æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œç»„åˆæ˜¯å›ºå®šçš„)ï¼Œè§’è‰²èƒ½æ»¡è¶³å…¶ä¸­ä¸€é¡¹çš„ç”¨æˆ·ï¼Œéƒ½è¿”å›ä¸ºåˆ—è¡¨æ˜¾ç¤ºå‡ºæ¥</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -20">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -20" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„å¯é€‰é¡¹è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI js"><pre tabindex="0" class="prism-code language-js codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> resultName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetResultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> orgUnitNames </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;201è½¦é—´&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;202è½¦é—´&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//ç»„ç»‡å•å…ƒå</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> postIDs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;48f637c4-c4d2-422a-ae51-16364ab8838b&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;65eb1faa-b1ae-4e63-8636-0b92eb35051b&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//ç­é•¿ã€æŠ€å¸ˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> users </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">orgUnitNames </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> orgUnitNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> postIDs </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> postIDs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> orgUnitNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token plain"> postIDs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> sql </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;select distinct [User].ID, [User].BI_Name UserName  from UserRoleGroup left join[User] on UserRoleGroup.UserID = [User].ID and[User].AI_Deleted = \&#x27;0\&#x27;\ left join OrgUnit ChildOrgUnit on ChildOrgUnit.ID = UserRoleGroup.OrgUnitID and ChildOrgUnit.AI_Deleted = \&#x27;0\&#x27;\ left join H_OrgUnitRelation on H_OrgUnitRelation.ID = UserRoleGroup.OrgUnitID left join OrgUnit ParentOrgUnit on ParentOrgUnit.ID = H_OrgUnitRelation.ParentID and ParentOrgUnit.AI_Deleted = \&#x27;0\&#x27; where &#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> orgUnitNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        sql </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;((ParentOrgUnit.BI_Name=\&#x27;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> orgUnitNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27; or  ChildOrgUnit.BI_Name=\&#x27;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> orgUnitNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27;) and UserRoleGroup.RoleID =\&#x27;&#x27;</span><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> postIDs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\&#x27;)&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">i </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> orgUnitNames</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            sql </span><span class="token operator" style="color:rgb(137, 221, 255)">+=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27; or &#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(130, 170, 255)">GetAjaxToApiServer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Sql&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GetDataSetBySQL&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;sql=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> sql</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword null nil" style="font-style:italic">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;POST&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">_result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword control-flow" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">_result </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword control-flow" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(137, 221, 255)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">push</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">ID</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Cells</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> _result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Rows</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Cells</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token maybe-class-name">ScriptEngine</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">resultName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ResultName&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> resultName </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li><p>æ•ˆæœå¦‚å›¾</p><img alt=" " src="/docimg/jiaoben11.png"></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="eocé€‰æ‹©å±äºæŸç»„ç»‡å•å…ƒå’ŒæŸå²—ä½çš„äººæ˜¾ç¤ºæ˜¯å¦åœ¨å²—ä¸åœ¨å²—æœ€åæ’åˆ—æ˜¾ç¤ºåœ¨æ‰‹å·¥å•æ•°é¡ºåºæ’åˆ—">EOCé€‰æ‹©å±äºæŸç»„ç»‡å•å…ƒå’ŒæŸå²—ä½çš„äººï¼Œæ˜¾ç¤ºæ˜¯å¦åœ¨å²—ï¼ˆä¸åœ¨å²—æœ€åæ’åˆ—ï¼‰ï¼Œæ˜¾ç¤ºåœ¨æ‰‹å·¥å•æ•°ï¼ˆé¡ºåºæ’åˆ—ï¼‰<a aria-hidden="true" class="hash-link" href="#eocé€‰æ‹©å±äºæŸç»„ç»‡å•å…ƒå’ŒæŸå²—ä½çš„äººæ˜¾ç¤ºæ˜¯å¦åœ¨å²—ä¸åœ¨å²—æœ€åæ’åˆ—æ˜¾ç¤ºåœ¨æ‰‹å·¥å•æ•°é¡ºåºæ’åˆ—" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-21">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-21" title="Direct link to heading">â€‹</a></h4><p>EOCä¿®æ”¹ä½œä¸šç»„å±æ€§æ—¶ï¼Œå¯é€‰æ‹©å±äºæŸç»„ç»‡å•å…ƒå’ŒæŸå²—ä½çš„äººï¼ŒåŒæ—¶å°†æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„äººæ˜¯å¦åœ¨å²—ï¼ˆä¸åœ¨å²—æœ€åæ’åˆ—ï¼‰ï¼Œåœ¨æ‰‹å·¥å•æ•°ï¼ˆé¡ºåºæ’åˆ—ï¼‰æ˜¾ç¤ºå‡ºæ¥</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -21">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -21" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„å¯é€‰é¡¹è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var list = [];  //å®šä¹‰æ•°ç»„åˆ—è¡¨</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var orgUnitID = &#x27;e31c2b8d-13c5-479a-9b88-48c35f7b2f96&#x27;;  //å®šä¹‰ç»„ç»‡å•å…ƒ  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var postID = &#x27;ce59a28d-f441-4953-9491-62ed2d576ee6&#x27;; //å®šä¹‰å²—ä½</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var resultName = ScriptEngine.GetResultName();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ScriptEngine.GetAjaxToApiServer(&#x27;UserConfig&#x27;, &#x27;GetByOrgUnitID&#x27;, &#x27;orgUnitID=&#x27; + orgUnitID + &#x27;&amp;withRoles=&#x27; + true, &#x27;&#x27;, &#x27;GET&#x27;, function (_usersBelongOrgUnit) {    //è°ƒå¾—åˆ°æ‰€æœ‰ç”¨æˆ·æ¥å£</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  console.log(_usersBelongOrgUnit); //æ‰“å°å‡ºæ¥</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  list.push({ ID: &#x27;title&#x27;, Name: &#x27;å§“å&#x27;, &#x27;åœ¨æ‰‹å·¥å•æ•°&#x27;: &#x27;åœ¨æ‰‹å·¥å•æ•°&#x27;, &#x27;åœ¨å²—&#x27;: &#x27;æ˜¯å¦åœ¨å²—&#x27; });  //æ•°ç»„æ ‡é¢˜</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ScriptEngine.GetAjaxToApiServer(&#x27;UserConfig&#x27;, &#x27;GetByPostID&#x27;, &#x27;postID=&#x27; + postID, &#x27;&#x27;, &#x27;GET&#x27;, function (_usersBelongPost) {    //è°ƒå¾—åˆ°æ‰€æœ‰ç”¨æˆ·æ¥å£</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    console.log(_usersBelongPost); //æ‰“å°å‡ºæ¥</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var userList = [];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (_usersBelongPost &amp;&amp; _usersBelongPost.length &gt; 0 &amp;&amp; _usersBelongOrgUnit &amp;&amp; _usersBelongOrgUnit.length &gt; 0) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      //ä»æ‰€æœ‰ç”¨æˆ·è§’è‰²é‡Œç­›é€‰å‡ºç»„ç»‡å•å…ƒå’Œå²—ä½ç¬¦åˆçš„ç”¨æˆ·</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      var users = _.filter(_usersBelongOrgUnit, function (_user) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return _.find(_usersBelongPost, function (__user) { return __user.ID == _user.ID });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      if (users &amp;&amp; users.length &gt; 0) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _.each(users, function (_user) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          userList.push({ ID: _user.ID, Name: _user.Name })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var sql = &#x27;select SeqUser.UserID,COUNT(*) as Count FROM SeqUser LEFT JOIN TaskGroupSequence ON TaskGroupSequence.ID = SeqUser.SeqID LEFT JOIN ActivityEntity ON ActivityEntity.ID = TaskGroupSequence.ActivityEntityID where  (ActivityState =1 or ActivityState =2)  and ActivityEntity.ActivityID = \&#x27;94070C66-DAFC-4DEA-821E-586DDC7F4072\&#x27; and TaskGroupSequence.TaskGroupEntityID in(select ID from TaskGroupEntity where IsExtracted=\&#x27;0\&#x27;) group by SeqUser.UserID&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ScriptEngine.GetAjaxToApiServer(&#x27;Sql&#x27;, &#x27;GetDataSetBySQL&#x27;, &#x27;sql=&#x27; + sql, &#x27;&#x27;, &#x27;get&#x27;, function (_result) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      console.log(_result);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      var toExecuteUserAndCount = [];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      if (_result &amp;&amp; _result.Rows &amp;&amp; _result.Rows.length &gt; 0) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        toExecuteUserAndCount = _result.Rows;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      _.each(userList,function(_user){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        var find = _.find(toExecuteUserAndCount,function(_item){return _item[&#x27;Cells&#x27;] &amp;&amp; _item[&#x27;Cells&#x27;][0] == _user[&#x27;ID&#x27;]});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _user[&#x27;åœ¨æ‰‹å·¥å•æ•°&#x27;] = find?find[&#x27;Cells&#x27;][1]:0;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      userList = _.sortBy(userList, &#x27;åœ¨æ‰‹å·¥å•æ•°&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ScriptEngine.GetAjaxToApiServer(&#x27;Scheduling&#x27;, &#x27;GetScheduleUserByCondition&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;POST&#x27;, function (_result) {    //è°ƒå¾—åˆ°æ‰€æœ‰ç”¨æˆ·æ¥å£</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        console.log(_result); //æ‰“å°å‡ºæ¥</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        _.each(userList, function (_item) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          var isRight = _.find(_result, function (__item) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            var endTs = new Date(__item.EndTime).getTime();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            var startTs = new Date(__item.StartTime).getTime();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            var ts = new Date().getTime()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            return (__item.UserID == _item.ID &amp;&amp; ts &gt;= startTs &amp;&amp; ts &lt;= endTs)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          _item[&#x27;åœ¨å²—&#x27;] = isRight ? &#x27;æ˜¯&#x27; : &#x27;å¦&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          _item[&#x27;Color&#x27;] = isRight ? &#x27;black&#x27; : &#x27;#ccc&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          console.log(isRight);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        userList = _.sortBy(userList, &#x27;åœ¨å²—&#x27;).reverse();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        list = list.concat(userList);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ScriptEngine[resultName] = list;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">return { &#x27;ResultName&#x27;: resultName };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li><p>æ•ˆæœå¦‚å›¾</p><img alt=" " src="/docimg/jiaoben12.png"></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="eocä½œä¸šç»„å±æ€§ä¸­é€‰æ‹©æŸç»„ç»‡å•å…ƒåè‡ªåŠ¨å°†å±äºç»„ç»‡å•å…ƒçš„ç”¨æˆ·å¡«å…¥å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§">EOCä½œä¸šç»„å±æ€§ä¸­é€‰æ‹©æŸç»„ç»‡å•å…ƒåï¼Œè‡ªåŠ¨å°†å±äºç»„ç»‡å•å…ƒçš„ç”¨æˆ·å¡«å…¥å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§<a aria-hidden="true" class="hash-link" href="#eocä½œä¸šç»„å±æ€§ä¸­é€‰æ‹©æŸç»„ç»‡å•å…ƒåè‡ªåŠ¨å°†å±äºç»„ç»‡å•å…ƒçš„ç”¨æˆ·å¡«å…¥å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-22">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-22" title="Direct link to heading">â€‹</a></h4><p>EOCä¿®æ”¹ä½œä¸šç»„å±æ€§æ—¶ï¼Œé€‰æ‹©äº†ç»„ç»‡å•å…ƒçš„å€¼ä¹‹åï¼Œè‡ªåŠ¨è·å–å±äºè¯¥ç»„ç»‡å•å…ƒçš„ç”¨æˆ·ï¼Œå°†ç»“æœèµ‹å€¼åˆ°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§ä¸­</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -22">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -22" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„å¯é€‰é¡¹è„šæœ¬åŠä¿®æ”¹å€¼åäº‹ä»¶è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">å¯é€‰é¡¹è„šæœ¬ä¸­ï¼Œç”¨äºè·å–ç»„ç»‡å•å…ƒåˆ—è¡¨</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var field = &#x27;&#x27;;  //å›ºå®šå­—ç¬¦ä¸²å‚æ•°</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var resultName = ScriptEngine.GetResultName();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var orgUnitNames = [];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var orgUnitName = &#x27;æŸç”µå‚&#x27;;//å‚æ•° çˆ¶çº§ç»„ç»‡å•å…ƒå</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ScriptEngine.GetOrgUnits(orgUnitName, true, false, function (_result) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (_result &amp;&amp; _result.length &gt; 1) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        for (var i = 1; i &lt; _result.length; i++) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            orgUnitNames.push({ &#x27;ID&#x27;: _result[i].ID, &#x27;Name&#x27;: _result[i].Name + field});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ScriptEngine[resultName] = orgUnitNames;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">return { &#x27;ResultName&#x27;: resultName };</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">ä¿®æ”¹å€¼åäº‹ä»¶è„šæœ¬ä¸­ï¼Œç”¨äºé€‰æ‹©ç»„ç»‡å•å…ƒåè·å–ç”¨æˆ·åŠèµ‹å€¼</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var value = ScriptEngine.Context.GetTaskGroupPropertyValue(&#x27;æ£€ä¿®ç­ç»„&#x27;); //ä½œä¸šç»„å±æ€§å</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ScriptEngine.GetOrgUnits(&#x27;&#x27;, true, false,function(_result){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var find = _.find(_result,function(_item){return _item[&#x27;Name&#x27;] == value});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var userNameList = [];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if (find) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        SysCommon.AjaxToApiServer(&#x27;UserConfig&#x27;, &#x27;GetByOrgUnitID&#x27;, &#x27;orgUnitID=&#x27; + find.ID + &#x27;&amp;withRoles=&#x27; + false, &#x27;&#x27;, &#x27;get&#x27;, function (__isOk, __msg, __result) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            if (__isOk &amp;&amp; __result) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                if (__isOk &amp;&amp; __result &amp;&amp; __result.length &gt; 0) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    _.each(__result, function (_user) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        userNameList.push(_user.Name);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            ScriptEngine.Context.SetTaskGroupPropertyValue(&#x27;ç­ç»„æˆå‘˜&#x27;, userNameList.join(&#x27;,&#x27;));  // è‡ªåŠ¨èµ‹å€¼çš„ä½œä¸šç»„å±æ€§å</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }else{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ScriptEngine.Context.SetTaskGroupPropertyValue(&#x27;ç­ç»„æˆå‘˜&#x27;, userNameList.join(&#x27;,&#x27;));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">})</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">return true;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li><p>æ•ˆæœå¦‚å›¾</p><img alt=" " src="/docimg/jiaoben13.png"></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ•°æ®ç±»å‹ä¸ºjsonå­—ç¬¦ä¸²çš„ä½œä¸šç»„å±æ€§ä¿®æ”¹åè‡ªåŠ¨å°†å€¼å¡«å…¥å¦ä¸€ä¸ªjsonå­—ç¬¦ä¸²ä½œä¸šç»„å±æ€§ä¸­">æ•°æ®ç±»å‹ä¸ºjsonå­—ç¬¦ä¸²çš„ä½œä¸šç»„å±æ€§ä¿®æ”¹åï¼Œè‡ªåŠ¨å°†å€¼å¡«å…¥å¦ä¸€ä¸ªJsonå­—ç¬¦ä¸²ä½œä¸šç»„å±æ€§ä¸­<a aria-hidden="true" class="hash-link" href="#æ•°æ®ç±»å‹ä¸ºjsonå­—ç¬¦ä¸²çš„ä½œä¸šç»„å±æ€§ä¿®æ”¹åè‡ªåŠ¨å°†å€¼å¡«å…¥å¦ä¸€ä¸ªjsonå­—ç¬¦ä¸²ä½œä¸šç»„å±æ€§ä¸­" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-23">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-23" title="Direct link to heading">â€‹</a></h4><p>ä½œä¸šç»„å±æ€§1å’Œä½œä¸šç»„å±æ€§2éƒ½ä¸ºJsonå­—ç¬¦ä¸²ï¼Œå…¶ä¸­æœ‰ç›¸åŒçš„Jsonå±æ€§ï¼Œå½“ä¿®æ”¹äº†ä½œä¸šç»„å±æ€§1çš„Jsonå±æ€§å€¼åï¼Œè‡ªåŠ¨å°†ä¿®æ”¹åçš„å€¼å†™è¿›ä½œä¸šç»„å±æ€§2é‡Œç›¸åŒçš„Jsonå±æ€§ä¸­</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -23">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -23" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„ä¿®æ”¹å€¼åäº‹ä»¶è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var str = ScriptEngine.Context.GetTaskGroupPropertyValue(&#x27;å†…å®¹&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">console.log(str);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">var assetNameList = [];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">if (str) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ScriptEngine.GetAjaxToApiServer(&#x27;UserDefinedList&#x27;, &#x27;GetUserDefinedListTree&#x27;, &#x27;&#x27;, null, &#x27;GET&#x27;, function (_response) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var type = _.find(_response,function(_item){return _item[&#x27;Name&#x27;] == &#x27;ç±»åˆ«&#x27;});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var action = _.find(_response,function(_item){return _item[&#x27;Name&#x27;] == &#x27;åŠ¨ä½œ&#x27;});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var newValueList = [];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var valueList = JSON.parse(str);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    _.each(valueList, function (_item) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      var assetName = _item[&#x27;å¯¹è±¡&#x27;];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      if (assetName.indexOf(&#x27;.&#x27;) &gt; -1) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        var index = assetName.lastIndexOf(&#x27;.&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (index &gt; -1) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          assetName = assetName.substr(index + 1);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      assetNameList.push(assetName);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      var curType = _item[&#x27;ç±»åˆ«&#x27;];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      var curAction = _item[&#x27;åŠ¨ä½œ&#x27;];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      if(type &amp;&amp; type[&#x27;ChildList&#x27;]){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        var find = _.find(type[&#x27;ChildList&#x27;],function(__item){return __item[&#x27;ID&#x27;] == curType});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if(find){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          curType = find[&#x27;Name&#x27;];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      if(action &amp;&amp; action[&#x27;ChildList&#x27;]){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        var find = _.find(action[&#x27;ChildList&#x27;],function(__item){return __item[&#x27;ID&#x27;] == curAction});</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if(find){</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          curAction = find[&#x27;Name&#x27;];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      newValueList.push({&#x27;ç±»åˆ«&#x27;:curType,&#x27;åŠ¨ä½œ&#x27;:curAction,&#x27;å¯¹è±¡&#x27;:_item[&#x27;å¯¹è±¡&#x27;]})</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    // console.log(newValueList);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ScriptEngine.GetAjaxToApiServer(&#x27;Asset&#x27;, &#x27;GetAssets&#x27;, &#x27;&#x27;, null, &#x27;GET&#x27;, function (_result) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      var assetTypeIDList = [];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      _.each(assetNameList, function (_assetName) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        var find = _.find(_result, function (_asset) { return _asset[&#x27;Name&#x27;] == _assetName });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (find &amp;&amp; find[&#x27;RelatedAssetType&#x27;] &amp;&amp; find[&#x27;RelatedAssetType&#x27;][&#x27;ID&#x27;] &amp;&amp; SysCommon.IsNotEmptyGuid(find[&#x27;RelatedAssetType&#x27;][&#x27;ID&#x27;])) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          assetTypeIDList.push(find[&#x27;RelatedAssetType&#x27;][&#x27;ID&#x27;]);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          assetTypeIDList.push(SysCommon.GuidEmpty);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // ScriptEngine.Context.SetTaskGroupPropertyValue(&#x27;æ“ä½œå†…å®¹1&#x27;,JSON.stringify(valueList));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        var taskGroupProperty = ScriptEngine.Context.GetTaskGroupProperty(&#x27;æ“ä½œå†…å®¹&#x27;);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if (taskGroupProperty) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          $(&#x27;.JsonData&#x27;, $(&#x27;#&#x27; + taskGroupProperty.ObjID)).attr(&#x27;dataString&#x27;, JSON.stringify(newValueList));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          window.ShowJsonTableView($(&#x27;#&#x27; + taskGroupProperty.ObjID).find(&#x27;.JsonData&#x27;), JSON.stringify(newValueList));</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">return true;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li><p>æ•ˆæœå¦‚å›¾</p><img alt=" " src="/docimg/jiaoben14.png"></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="æ•°æ®ç±»å‹ä¸ºå¯è¾“å…¥åˆ—è¡¨ä½œä¸šç»„å±æ€§ç¼–è¾‘æ—¶é€‰æ‹©è¾“å…¥åè‡ªåŠ¨å°†è¾“å…¥çš„å†…å®¹ä½œä¸ºåˆ—è¡¨é¡¹æ–°å»ºåˆ°åˆ—è¡¨ä¸­">æ•°æ®ç±»å‹ä¸ºå¯è¾“å…¥åˆ—è¡¨ä½œä¸šç»„å±æ€§ç¼–è¾‘æ—¶é€‰æ‹©è¾“å…¥åï¼Œè‡ªåŠ¨å°†è¾“å…¥çš„å†…å®¹ä½œä¸ºåˆ—è¡¨é¡¹æ–°å»ºåˆ°åˆ—è¡¨ä¸­<a aria-hidden="true" class="hash-link" href="#æ•°æ®ç±»å‹ä¸ºå¯è¾“å…¥åˆ—è¡¨ä½œä¸šç»„å±æ€§ç¼–è¾‘æ—¶é€‰æ‹©è¾“å…¥åè‡ªåŠ¨å°†è¾“å…¥çš„å†…å®¹ä½œä¸ºåˆ—è¡¨é¡¹æ–°å»ºåˆ°åˆ—è¡¨ä¸­" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="éœ€æ±‚æè¿°-24">éœ€æ±‚æè¿°<a aria-hidden="true" class="hash-link" href="#éœ€æ±‚æè¿°-24" title="Direct link to heading">â€‹</a></h4><p>å½“æ•°æ®ç±»å‹ä¸ºå¯è¾“å…¥åˆ—è¡¨æ—¶ï¼Œå› ä¸ºåˆ—è¡¨é¡¹ä¸­æ²¡æœ‰æƒ³è¦çš„é€‰é¡¹è€Œé€‰æ‹©äº†è¾“å…¥ï¼Œå¦‚æœè¾“å…¥å†…å®¹æ˜¯åŸåˆ—è¡¨é¡¹ä¸­æ²¡æœ‰çš„ï¼Œåˆ™å°†è¾“å…¥çš„å†…å®¹æ–°å»ºåˆ°åˆ—è¡¨é¡¹ä¸­ï¼Œä¸‹æ¬¡æ“ä½œæ—¶è‡ªåŠ¨æˆä¸ºåˆ—è¡¨é€‰æ‹©é¡¹ä¹‹ä¸€</p><h4 class="anchor anchorWithHideOnScrollNavbar_3ly5" id="è„šæœ¬ä»£ç -24">è„šæœ¬ä»£ç <a aria-hidden="true" class="hash-link" href="#è„šæœ¬ä»£ç -24" title="Direct link to heading">â€‹</a></h4><ul><li>é€‚ç”¨äºä½œä¸šç»„å±æ€§æ›´å¤šè®¾ç½®ä¸­çš„ä¿®æ”¹å€¼åäº‹ä»¶è„šæœ¬</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">var value = ScriptEngine.Context.GetTaskGroupPropertyValue(&#x27;åŠ¨ä½œ&#x27;); //ä½œä¸šç»„å±æ€§å</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">if (value &amp;&amp; !SysCommon.IsNotEmptyGuid(value)) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var parentID = &#x27;9eccc102-2cee-42fe-92f6-ce34dd874215&#x27; //è‡ªå®šä¹‰åˆ—è¡¨çš„ID</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    var condition = { </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Type: 7, </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ParentID: parentID, </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Name: value </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }; </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ScriptEngine.GetAjaxToApiServer(&#x27;UserDefinedList&#x27;, &#x27;Create&#x27;, &#x27;&#x27;, JSON.stringify(condition), &#x27;post&#x27;, function (_result) { </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        console.log(_result);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">return true;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li><p>æ•ˆæœå¦‚å›¾</p><img alt=" " src="/docimg/jiaoben15.png"></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/iDongMobility/imgenius-docs/edit/master/docs/ç³»ç»Ÿæ‰©å±•æŒ‡å—/æ‰©å±•ä¾‹å­.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-10-21T09:37:03.000Z">10/21/2021</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/è‡ªå®šä¹‰æœåŠ¡æ‰©å±•å¼€å‘"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->è‡ªå®šä¹‰æœåŠ¡æ‰©å±•å¼€å‘</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/next/ç³»ç»Ÿæ‰©å±•æŒ‡å—/ä¸è‡ªæ§ç³»ç»Ÿé›†æˆä¾‹å­"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ä¸è‡ªæ§ç³»ç»Ÿé›†æˆä¾‹å­<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ç»ˆç«¯è„šæœ¬" class="table-of-contents__link toc-highlight">ç»ˆç«¯è„šæœ¬</a><ul><li><a href="#æ‰“å¼€ä½œä¸šç»„ç›´æ¥è·³åˆ°æŒ‡å®šä½œä¸š" class="table-of-contents__link toc-highlight">æ‰“å¼€ä½œä¸šç»„ç›´æ¥è·³åˆ°æŒ‡å®šä½œä¸š</a></li><li><a href="#æ ¹æ®ç‰©æ–™åå’Œç‰©æ–™å±æ€§è·å–æŒ‡å®šç‰©æ–™å±æ€§å€¼" class="table-of-contents__link toc-highlight">æ ¹æ®ç‰©æ–™åå’Œç‰©æ–™å±æ€§è·å–æŒ‡å®šç‰©æ–™å±æ€§å€¼</a></li><li><a href="#æ ¹æ®ä½œä¸šçŠ¶æ€æ£€æŸ¥çš„å€¼è‡ªåŠ¨å¡«å†™ä½œä¸šé¡¹çš„å€¼" class="table-of-contents__link toc-highlight">æ ¹æ®ä½œä¸šçŠ¶æ€æ£€æŸ¥çš„å€¼ï¼Œè‡ªåŠ¨å¡«å†™ä½œä¸šé¡¹çš„å€¼</a></li><li><a href="#æ™ºèƒ½ç”µå­é”å¼€é”é…ç½®" class="table-of-contents__link toc-highlight">æ™ºèƒ½ç”µå­é”å¼€é”é…ç½®</a></li><li><a href="#æ›´æ–°ä½œä¸šå…³è”èµ„äº§çš„æŒ‡å®šèµ„äº§å±æ€§å€¼" class="table-of-contents__link toc-highlight">æ›´æ–°ä½œä¸šå…³è”èµ„äº§çš„æŒ‡å®šèµ„äº§å±æ€§å€¼</a></li><li><a href="#æ‰“å¼€ä½œä¸šç»„ç›´æ¥è·³è½¬åˆ°ä½œä¸šç»„å±æ€§é¡µé¢" class="table-of-contents__link toc-highlight">æ‰“å¼€ä½œä¸šç»„ç›´æ¥è·³è½¬åˆ°ä½œä¸šç»„å±æ€§é¡µé¢</a></li><li><a href="#æ ¹æ®èµ„äº§åè·å–çš„èµ„äº§å·å€¼èµ‹å€¼ç»™ä½œä¸šé¡¹é»˜è®¤å€¼çš„è„šæœ¬" class="table-of-contents__link toc-highlight">æ ¹æ®èµ„äº§åè·å–çš„èµ„äº§å·å€¼èµ‹å€¼ç»™ä½œä¸šé¡¹é»˜è®¤å€¼çš„è„šæœ¬</a></li><li><a href="#åˆ¤æ–­å½“å‰ç™»é™†äººå¯æ‰§è¡Œä½œä¸šç»„æ•°é‡å¤§äº5æ—¶è¿”å›ture" class="table-of-contents__link toc-highlight">åˆ¤æ–­å½“å‰ç™»é™†äººå¯æ‰§è¡Œä½œä¸šç»„æ•°é‡å¤§äº5æ—¶è¿”å›ture</a></li><li><a href="#æ ¹æ®è®¾å¤‡çš„è¿è¡Œæ—¶é•¿è‡ªåŠ¨è®¡ç®—å‡ºæ¶¦æ»‘å¯¿å‘½" class="table-of-contents__link toc-highlight">æ ¹æ®è®¾å¤‡çš„è¿è¡Œæ—¶é•¿ï¼Œè‡ªåŠ¨è®¡ç®—å‡ºæ¶¦æ»‘å¯¿å‘½</a></li><li><a href="#åŠ¨ç«ä½œä¸šä¸­åˆ¤æ–­å…·æœ‰macåœ°å€çš„å®šä½ç»ˆç«¯æ˜¯å¦åœ¨å›´æ å†…" class="table-of-contents__link toc-highlight">åŠ¨ç«ä½œä¸šä¸­ï¼Œåˆ¤æ–­å…·æœ‰MACåœ°å€çš„å®šä½ç»ˆç«¯æ˜¯å¦åœ¨å›´æ å†…</a></li></ul></li><li><a href="#webç«¯è„šæœ¬" class="table-of-contents__link toc-highlight">Webç«¯è„šæœ¬</a><ul><li><a href="#å¾—åˆ°èµ„äº§çš„æ‰€æœ‰å­å­™è¿”å›èµ„äº§åçš„åˆ—è¡¨" class="table-of-contents__link toc-highlight">å¾—åˆ°èµ„äº§çš„æ‰€æœ‰å­å­™ï¼Œè¿”å›èµ„äº§åçš„åˆ—è¡¨</a></li><li><a href="#å¾—åˆ°å›ºå®šç»„ç»‡å•å…ƒçš„ç›´æ¥å„¿å­æ­¤å¤–åŠ ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²è¿”å›åˆ—è¡¨" class="table-of-contents__link toc-highlight">å¾—åˆ°å›ºå®šç»„ç»‡å•å…ƒçš„ç›´æ¥å„¿å­ï¼Œæ­¤å¤–åŠ ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ï¼Œè¿”å›åˆ—è¡¨</a></li><li><a href="#ç»„ç»‡å•å…ƒå±äºç™»å½•äººç»„ç»‡å•å…ƒå²—ä½ä¸ºå›ºå®šåç§°æ‰€æœ‰äººåˆ—è¡¨" class="table-of-contents__link toc-highlight">ç»„ç»‡å•å…ƒå±äºç™»å½•äººç»„ç»‡å•å…ƒï¼Œå²—ä½ä¸ºå›ºå®šåç§°ï¼Œæ‰€æœ‰äººåˆ—è¡¨</a></li><li><a href="#ç»„ç»‡å•å…ƒå±äºä½œä¸šç»„ç»„ç»‡å•å…ƒå²—ä½ä¸ºå›ºå®šåç§°-æ‰€æœ‰äººåˆ—è¡¨" class="table-of-contents__link toc-highlight">ç»„ç»‡å•å…ƒå±äºä½œä¸šç»„ç»„ç»‡å•å…ƒï¼Œå²—ä½ä¸ºå›ºå®šåç§°ï¼Œ æ‰€æœ‰äººåˆ—è¡¨</a></li><li><a href="#æ ¹æ®åç§°æ‰¾åˆ°å¯¹åº”èµ„äº§å°†æ­¤èµ„äº§çš„æŸä¸€å±æ€§æ›´æ–°åˆ°å¦ä¸€ä½œä¸šç»„å±æ€§é‡Œ" class="table-of-contents__link toc-highlight">æ ¹æ®åç§°æ‰¾åˆ°å¯¹åº”èµ„äº§ï¼Œå°†æ­¤èµ„äº§çš„æŸä¸€å±æ€§æ›´æ–°åˆ°å¦ä¸€ä½œä¸šç»„å±æ€§é‡Œ</a></li><li><a href="#æ ¹æ®äººå‘˜åç§°æŸ¥æ‰¾äººå‘˜æŸä¸€å±æ€§æ›´å¤šå±æ€§æ›´æ–°åˆ°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§" class="table-of-contents__link toc-highlight">æ ¹æ®äººå‘˜åç§°æŸ¥æ‰¾äººå‘˜æŸä¸€å±æ€§ï¼ˆæ›´å¤šå±æ€§ï¼‰æ›´æ–°åˆ°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§</a></li><li><a href="#æŒ‰ç…§åˆ—è¡¨åå¾—åˆ°åˆ—è¡¨é¡¹" class="table-of-contents__link toc-highlight">æŒ‰ç…§åˆ—è¡¨åå¾—åˆ°åˆ—è¡¨é¡¹</a></li><li><a href="#æŒ‰ç…§idå¾—åˆ°åˆ—è¡¨é¡¹çš„åç§°" class="table-of-contents__link toc-highlight">æŒ‰ç…§idå¾—åˆ°åˆ—è¡¨é¡¹çš„åç§°</a></li><li><a href="#é€€æ–™æ˜ç»†---å®é™…é€€æ–™--é€€æ–™å·®é¢" class="table-of-contents__link toc-highlight">é€€æ–™æ˜ç»† - å®é™…é€€æ–™ = é€€æ–™å·®é¢</a></li><li><a href="#ä½œä¸šç»„å±æ€§ä¸ºjsonæ“ä½œé¡¹ä¸‹æœ‰æ ‡å‡†ä»·æ ¼å¹¶ä¸”å¤§äº200æ—¶æ›´æ–°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§ä¸ºæ˜¯" class="table-of-contents__link toc-highlight">ä½œä¸šç»„å±æ€§ä¸ºjsonï¼Œæ“ä½œé¡¹ä¸‹æœ‰æ ‡å‡†ä»·æ ¼å¹¶ä¸”å¤§äº200æ—¶ï¼Œæ›´æ–°å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§ä¸º&#39;æ˜¯&#39;</a></li><li><a href="#ç­›é€‰å‡ºç»„ç»‡å•å…ƒå±äºaå²—ä½ç»´ä¿®-ç»„ç»‡å•å…ƒå±äºbå²—ä½ä¸ºç­é•¿çš„äººçš„é›†åˆ" class="table-of-contents__link toc-highlight">ç­›é€‰å‡ºç»„ç»‡å•å…ƒå±äºaï¼Œå²—ä½ç»´ä¿®+ ç»„ç»‡å•å…ƒå±äºbï¼Œå²—ä½ä¸ºç­é•¿çš„äººçš„é›†åˆ</a></li><li><a href="#eocé€‰æ‹©å±äºæŸç»„ç»‡å•å…ƒå’ŒæŸå²—ä½çš„äººæ˜¾ç¤ºæ˜¯å¦åœ¨å²—ä¸åœ¨å²—æœ€åæ’åˆ—æ˜¾ç¤ºåœ¨æ‰‹å·¥å•æ•°é¡ºåºæ’åˆ—" class="table-of-contents__link toc-highlight">EOCé€‰æ‹©å±äºæŸç»„ç»‡å•å…ƒå’ŒæŸå²—ä½çš„äººï¼Œæ˜¾ç¤ºæ˜¯å¦åœ¨å²—ï¼ˆä¸åœ¨å²—æœ€åæ’åˆ—ï¼‰ï¼Œæ˜¾ç¤ºåœ¨æ‰‹å·¥å•æ•°ï¼ˆé¡ºåºæ’åˆ—ï¼‰</a></li><li><a href="#eocä½œä¸šç»„å±æ€§ä¸­é€‰æ‹©æŸç»„ç»‡å•å…ƒåè‡ªåŠ¨å°†å±äºç»„ç»‡å•å…ƒçš„ç”¨æˆ·å¡«å…¥å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§" class="table-of-contents__link toc-highlight">EOCä½œä¸šç»„å±æ€§ä¸­é€‰æ‹©æŸç»„ç»‡å•å…ƒåï¼Œè‡ªåŠ¨å°†å±äºç»„ç»‡å•å…ƒçš„ç”¨æˆ·å¡«å…¥å¦ä¸€ä¸ªä½œä¸šç»„å±æ€§</a></li><li><a href="#æ•°æ®ç±»å‹ä¸ºjsonå­—ç¬¦ä¸²çš„ä½œä¸šç»„å±æ€§ä¿®æ”¹åè‡ªåŠ¨å°†å€¼å¡«å…¥å¦ä¸€ä¸ªjsonå­—ç¬¦ä¸²ä½œä¸šç»„å±æ€§ä¸­" class="table-of-contents__link toc-highlight">æ•°æ®ç±»å‹ä¸ºjsonå­—ç¬¦ä¸²çš„ä½œä¸šç»„å±æ€§ä¿®æ”¹åï¼Œè‡ªåŠ¨å°†å€¼å¡«å…¥å¦ä¸€ä¸ªJsonå­—ç¬¦ä¸²ä½œä¸šç»„å±æ€§ä¸­</a></li><li><a href="#æ•°æ®ç±»å‹ä¸ºå¯è¾“å…¥åˆ—è¡¨ä½œä¸šç»„å±æ€§ç¼–è¾‘æ—¶é€‰æ‹©è¾“å…¥åè‡ªåŠ¨å°†è¾“å…¥çš„å†…å®¹ä½œä¸ºåˆ—è¡¨é¡¹æ–°å»ºåˆ°åˆ—è¡¨ä¸­" class="table-of-contents__link toc-highlight">æ•°æ®ç±»å‹ä¸ºå¯è¾“å…¥åˆ—è¡¨ä½œä¸šç»„å±æ€§ç¼–è¾‘æ—¶é€‰æ‹©è¾“å…¥åï¼Œè‡ªåŠ¨å°†è¾“å…¥çš„å†…å®¹ä½œä¸ºåˆ—è¡¨é¡¹æ–°å»ºåˆ°åˆ—è¡¨ä¸­</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">æ–‡æ¡£</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/å®‰è£…/ç³»ç»Ÿè¦æ±‚">å®‰è£…</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ/ç½‘é¡µç«¯/ç™»å½•">ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ç³»ç»Ÿé…ç½®æ‰‹å†Œ/æˆæƒç®¡ç†/æˆæƒç®¡ç†">ç³»ç»Ÿé…ç½®æ‰‹å†Œ</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ç³»ç»Ÿç»´æŠ¤æŒ‡å—/è¿è¡Œç›‘æ§å’Œç»´æŠ¤">ç³»ç»Ÿç»´æŠ¤æŒ‡å—</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/ç³»ç»Ÿæ‰©å±•æŒ‡å—/ä¸»é¡µå®šåˆ¶æ‰©å±•å¼€å‘">ç³»ç»Ÿæ‰©å±•æŒ‡å—</a></li></ul></div><div class="col footer__col"><div class="footer__title">ç¤¾åŒº</div><ul class="footer__items"><li class="footer__item"><a href="https://gitter.im/iDongMobility/imgenius-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://weibo.com/idongmobility" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>å¾®åš<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://mp.weixin.qq.com/s/eLjZg1xII3Zchg00Z44ZCQ" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>å¾®ä¿¡<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/idong-mobility-technologies/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">æ›´å¤š</div><ul class="footer__items"><li class="footer__item"><a href="http://www.idongmobility.com/index.php/zh/clients.html" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>å®¢æˆ·æ•…äº‹<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="http://www.idongmobility.com/index.php/zh/about.html" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>è”ç³»æˆ‘ä»¬<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 ä¸Šæµ·è‰¾åŠ¨ä¿¡æ¯ç§‘æŠ€æœ‰é™å…¬å¸ Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9d701c52.js"></script>
<script src="/assets/js/main.804f5bbe.js"></script>
</body>
</html>